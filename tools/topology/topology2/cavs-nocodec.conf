#
# Simple Machine - High level topology - Maps to machine driver.
#
# PCM 0 <-> copier.host.N.0 <-> copier.SSP.0.M <-> SSP0
#

<include/common/tokens.conf>
<include/components/host.conf>
<include/components/buffer.conf>
<include/components/pipeline.conf>
<include/common/route.conf>
<include/pipelines/cavs/pipeline-passthrough-playback.conf>
<include/pipelines/cavs/pipeline-passthrough-capture.conf>
<include/components/dai.conf>
<include/common/data.conf>
<include/common/pcm.conf>
<include/common/pcm_caps.conf>
<include/common/fe_dai.conf>
<include/dais/ssp.conf>
<include/dais/hw_config.conf>
<include/common/manifest.conf>

#
# Pipeline definitions
#

# Pipeline ID:1 PCM ID: 0
Object.Pipeline.passthrough-playback."1" {
	format "s32le"

	Object.Widget.pipeline.0.stream_name	"dai.SSP.0.playback"

	Object.Widget.copier.0.stream_name	"Port0 Playback"
}

# Pipeline ID:2 PCM ID: 0
Object.Pipeline.passthrough-capture."2" {
	format		"s32le"

	Object.Widget.pipeline.0.stream_name	"dai.SSP.0.capture"

	Object.Widget.copier.0.stream_name	"Port0 Capture"
}


Object.PCM.pcm."0" {
	name	"Port0"
	direction	"duplex"
	Object.Base.fe_dai."Port 0" {}
	Object.PCM.pcm_caps."playback" {
		name "Port0 Playback"
	}
	Object.PCM.pcm_caps."capture" {
		name "Port0 Capture"
	}
}

#
# List of all DAIs
#
#SSP Index: 0, Direction: duplex
Object.Dai.SSP."0" {
	direction		"duplex"
	stream_name		"NoCodec-0"
	id 			0
	default_hw_conf_id	0
	format			"s24le"
	sample_bits		32
	quirks			"lbm_mode"
	Object.Base.hw_config."SSP0 hw_config 0" {
		id	0
		mclk_freq	24000000
		bclk_freq	4800000
		tdm_slot_width	32
	}

	# include DAI copier components
	Object.Widget.copier."0" {
		type "dai_in"
		copier_type	"SSP"
		index	1
	}

	Object.Widget.copier."1" {
		type	"dai_out"
		copier_type "SSP"
		index	2
	}
}

Object.Base {
	route."0" {
		source	"copier.host.0.0"
		sink	"copier.SSP.0.0"
	}
	route."1" {
		source	"copier.host.1.0"
		sink	"copier.SSP.1.0"
	}
}
